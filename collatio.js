!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.collatio=e():t.collatio=e()}(this,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=2)}([function(t,e,r){const{RecursiveDeepCopy:n}=r(6),{Filter:o,Find:i,FindLast:s,GroupBy:u,IndexOf:p,MergeArray:c,OperateArray:f,Reverse:l,Sort:h,Without:a}=r(7),{IsFunction:y}=r(1),m=Object.freeze({ASC:"asc",DESC:"desc"});Array.prototype.Count=function(){return this.length},Array.prototype.Max=function(t){return f(this,t,1)},Array.prototype.Min=function(t){return f(this,t,2)},Array.prototype.Mean=function(t){return f(this,t,4)},Array.prototype.Sum=function(t){return f(this,t,3)},Array.prototype.Add=function(t){return this.push(t),this},Array.prototype.AddIfNotExists=function(t){return this.Contains(t)||this.Add(t),this},Array.prototype.Reduce=function(t,e){for(const r of this)e=t(e,r);return e},Array.prototype.AddRange=function(t){for(const e of t)this.Add(e);return this},Array.prototype.AddRangeIfNotExists=function(t){for(const e of t)this.AddIfNotExists(e);return this},Array.prototype.Clear=function(){return this.splice(0,this.length),this},Array.prototype.Contains=function(t){for(const e of this){if(y(e.Equals)&&e.Equals(t))return!0;if(e===t)return!0}return!1},Array.prototype.Copy=function(){const t=[];for(const e of this)t.push(recursiveDeepCopy(e));return t},Array.prototype.Exists=function(t){return!!i(this,t)},Array.prototype.Find=function(t){return i(this,t)||null},Array.prototype.FindLast=function(t){return s(this,t)||null},Array.prototype.FindIndex=function(t){return i(this,t,!0)},Array.prototype.FindAll=function(t){const e=[];for(let r=0;r<this.length;r++)t(this[r])&&e.push(this[r]);return e},Array.prototype.Insert=function(t,e){return c(this,t,[e])},Array.prototype.InsertRange=function(t,e){return c(this,t,e)},Array.prototype.IndexOf=function(t,e){let r;return r=e?p(this,t,e):p(this,t),r},Array.prototype.Remove=function(t){const e=a(this,[t]);return this.Clear(),this.AddRange(e),this},Array.prototype.RemoveAll=function(t){const e=o(this,e=>t(e),!0);return this.Clear(),this.AddRange(e),this},Array.prototype.RemoveAt=function(t){return t>=this.length||t<0||this.splice(t,1),this},Array.prototype.RemoveRange=function(t){const e=a(this,t);return this.Clear(),this.AddRange(e),this},Array.prototype.Reverse=function(){return l(this)},Array.prototype.Sort=function(t){const e=t||"asc";let r=this.sort((t,e)=>t>e?-1:t<e?1:0);return"asc"===e&&(r=this.sort((t,e)=>t>e?1:t<e?-1:0)),r},Array.prototype.SortBy=function(t,e){return h(this,t,e.Convert(t=>t===m.DESC))},Array.prototype.ElementAt=function(t){return this[t]||null},Array.prototype.Any=function(t){return"function"!=typeof t?this.length.IsAbove(0):!!this.Find(t)},Array.prototype.FirstOrDefault=function(t,e){return y(t)?i(this,t)||e||null:this[0]||e||null},Array.prototype.FindLastIndex=function(t){return s(this,t,!0)},Array.prototype.TrueForAll=function(t){for(const e of this)if(!t(e))return!1;return!0},Array.prototype.LastOrDefault=function(t,e){return y(t)?s(this,t)||e||null:this[this.length-1]||e||null},Array.prototype.GroupBy=function(t){return u(this,t)},Array.prototype.GroupKey=function(t){return Object.keys(u(this,t))},Array.prototype.Convert=function(t){return this.map(t)},Array.prototype.Replace=function(t,e){const r=this,n=this.FindIndex(t);return n.IsBelow(0)?(r.Add(e),r):(r[n]=e,r)},Array.prototype.Join=function(t){return this.join(t||",")},Array.prototype.UnionBy=function(t,e){for(const r of t)e(r)&&this.push(r);return this},t.exports={ListSortOrder:m}},function(t,e){t.exports={IsFunction:t=>"function"==typeof t,IsObject:t=>null!==t&&typeof t==typeof{}}},function(t,e,r){const{StopWatch:n}=r(3),{ListSortOrder:o}=r(10);t.exports={Benchmark:class{constructor(t){this.name=t,this.data=null,this.runtime=1e3,this.stats=[]}setup(t,e){this.data=t(),e>1&&(this.runtime=e)}run(t,e){const r=new n;let o=0,i=0;do{e(this.data),o++,i=r.ElapsedMs()}while(i<this.runtime);const s=o*this.runtime/i;this.stats.Add({name:t,duration:i,runtime:this.runtime,ops:s})}print(t){console.info(`Benchmark ${this.name}`),console.info("-------------------------------------------------");for(const e of this.stats.SortBy(["ops"],[o.DESC]))console.info(`${e.ops.toFixed(t||0)} ops/sec ${e.duration.toFixed(t||3)} ms => ${e.name}`);console.info("-------------------------------------------------")}}}},function(t,e,r){const{StopWatch:n}=r(4);t.exports={StopWatch:n}},function(t,e,r){(function(e){r(0),r(8);t.exports={StopWatch:class{constructor(){this._time=this._getTimestamp(),this._multipleTimes={},this._measures=[],this._isPause=!1,this._multipleMeasures={},this._multipleIsPause={}}SectionStart(t){this._multipleTimes[t]=this._getTimestamp(),this._multipleMeasures[t]=[],this._multipleIsPause[t]=!1}IsSectionPause(t){return!0===this._multipleIsPause[t]}get IsPause(){return!0===this._isPause}SectionElapsedMs(t){let e=this._multipleIsPause[t]?0:this._getMultipleTimeDiff(t);if(this._multipleMeasures[t]||(this._multipleMeasures[t]=[]),this._multipleMeasures[t].Any())for(const r of this._multipleMeasures[t])e+=r;return e}SectionPause(t){this._multipleMeasures[t].Add(this._getMultipleTimeDiff(t)),this._multipleIsPause[t]=!0}SectionResume(t){this._multipleIsPause[t]=!1,this._multipleTimes[t]=this._getTimestamp()}Pause(){this._measures.Add(this._getTimeDiff()),this._isPause=!0}Resume(){this._time=this._getTimestamp(),this._isPause=!1}ElapsedMs(){let t=this._isPause?0:this._getTimeDiff();if(this._measures.Any())for(const e of this._measures)t+=e;return t}_getTimestamp(){return this._isBrowser()?window.performance.now():e.process.hrtime()}_getTimeDiff(){if(!this._isBrowser()){const t=this._time,r=e.process.hrtime(t);return(1e9*r[0]+r[1])/1e6}const t=this._time;return window.performance.now()-t}_getMultipleTimeDiff(t){if(!this._isBrowser()){const r=this._multipleTimes[t];if(!r)return 0;const n=e.process.hrtime(r);return(1e9*n[0]+n[1])/1e6}const r=this._multipleTimes[t];return window.performance.now()-r}_isBrowser(){try{return!(!window||!window.performance)}catch(t){return!1}}}}}).call(this,r(5))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){const r=t=>{let e,n;if("object"!=typeof t)return t;if(!t)return t;if("[object Array]"===Object.prototype.toString.apply(t)){for(e=[],n=0;n<t.length;n+=1)e[n]=r(t[n]);return e}for(n in e={},t)t.hasOwnProperty(n)&&(e[n]=r(t[n]));return e},n=(t,e)=>{for(const r in e)if(t.hasOwnProperty(r)&&null!==t[r]&&void 0!==t[r]){if(typeof t[r]==typeof{}){t[r]=n(t[r],e[r]);continue}t[r]=e[r]}else t[r]=e[r];return t};t.exports={Get:(t,e)=>{let r=t;for(const t of e.split(".")){if(!r||!r.hasOwnProperty(t))return null;r=r[t]}return r},Set:(t,e,r)=>{let n=t;const o=e.split(".");for(let t=0;t<o.length-1;t++)n=n[o[t]];return n[o[o.length-1]]=r,t},Merge:n,RecursiveDeepCopy:r}},function(t,e,r){const{IsFunction:n}=r(1);function o(t,e,r=!1,n=!0){if(!0===n){for(let n=0;n<t.length;n++){const o=t[n];if(e(o))return r?n:o}return r?-1:null}for(let n=t.length-1;n>=0;n--){const o=t[n];if(e(o))return r?n:o}return r?-1:null}const i=(t,e)=>n(t.IsBefore)&&n(t.IsAfter)?t.IsBefore(e)?[1,2]:t.IsAfter(e)?[2,1]:[0,0]:[t,e],s=(t,e,r=0)=>{for(let o=0;o<t.length;o++){if(e===t[o]&&o>=r)return o;if(n(e.Equal)&&e.Equal(t[o])&&o>=r)return o}return-1};t.exports={MergeArray:(t,e,r)=>[...t.slice(0,e),...r,...t.slice(e,t.length)],Sort:(t,e,r)=>t.sort((t,n)=>{for(let o=0;o<e.length;o++){const s=e[o],u=r[o],p=i(t[s],n[s]);if(p[0]<p[1])return u?1:-1;if(p[0]>p[1])return u?-1:1}return 0}),OperateArray:(t,e,r)=>{let n=null,o=0;for(const i of t)if("number"==typeof i&&(!e||e(i)))switch(o++,r){case 1:(null===n||i>n)&&(n=i);break;case 2:(null===n||i<n)&&(n=i);break;case 3:case 4:null===n&&(n=0),n+=i}if(null===n&&(n=0),4===r){if(o<1)return 0;n/=o}return n},IndexOf:s,Without:(t,e)=>{const r=[];for(const n of t){s(e,n)>-1||r.push(n)}return r},Filter:(t,e,r=!1)=>{const n=[];for(const o of t)!0===r?e(o)||n.push(o):e(o)&&n.push(o);return n},Find:(t,e,r=!1)=>o(t,e,r),FindLast:(t,e,r=!1)=>o(t,e,r,!1),Reverse:t=>{const e=[];let r=0;for(let n=t.length-1;n>=0;n--)e[r]=t[n],r++;return e},GroupBy:(t,e)=>{const r={};for(const n of t){const t=e(n);r[t]||(r[t]=[]),r[t].push(n)}return r},GetSortValue:i}},function(t,e,r){const{Round:n}=r(9);Number.prototype.IsInRange=function(t,e){return this<=e&&this>=t},Number.prototype.Equals=function(t){return this.valueOf()===t},Number.prototype.IsAbove=function(t){return this>t},Number.prototype.IsBelow=function(t){return this<t},Number.prototype.Clamp=function(t,e){return this<t?t:this>e?e:this.valueOf()},Number.prototype.Add=function(t){return this+t},Number.prototype.Subtract=function(t){return this-t},Number.prototype.Multiply=function(t){return this*t},Number.prototype.Divide=function(t){if(0===t)throw new Error(`Division by Zero ${this} / ${t}`);return this/t},Number.prototype.Ceil=function(t){return n(this,t,"ceil")},Number.prototype.Floor=function(t){return n(this,t,"floor")},Number.prototype.Round=function(t){return n(this,t)},Number.prototype.Numerals=function(){return this.toFixed(0).length},Number.prototype.DecimalPlaces=function(){const t=this.toString().split(".");return t[1]?t[1].length:0},Number.prototype.Increment=function(t){return this+(t=t||1)},Number.prototype.Decrement=function(t){return this-(t=t||1)}},function(t,e){t.exports={Round:(t,e=0,r="round")=>{let n="1";for(let t=0;t<Math.abs(e);t++)n+="0";const o=parseInt(n,10);return e<0?Math[r](t/o)*o:Math[r](t*o)/o},Random:(t,e,r)=>!0===r?Math.random()*(e-t)+t:Math.floor(Math.random()*(e-t+1))+t}},function(t,e,r){const{ListSortOrder:n}=r(0);t.exports={ListSortOrder:n}}])}));