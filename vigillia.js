!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.vigillia=r():t.vigillia=r()}(this,(function(){return function(t){var r={};function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)e.d(n,o,function(r){return t[r]}.bind(null,o));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=0)}([function(t,r,e){const{StopWatch:n}=e(1),{ListSortOrder:o}=e(2);t.exports={Benchmark:class{constructor(t){this.name=t,this.data=null,this.runtime=1e3,this.stats=[]}setup(t,r){this.data=t(),r>1&&(this.runtime=r)}run(t,r){const e=new n;let o=0,i=0;do{r(this.data),o++,i=e.ElapsedMs()}while(i<this.runtime);const u=o*this.runtime/i;this.stats.Add({name:t,duration:i,runtime:this.runtime,ops:u})}print(t){console.info(`Benchmark ${this.name}`),console.info("-------------------------------------------------");for(const r of this.stats.SortBy(["ops"],[o.DESC]))console.info(`${r.ops.toFixed(t||0)} ops/sec ${r.duration.toFixed(t||3)} ms => ${r.name}`);console.info("-------------------------------------------------")}}}},function(t,r,e){t.exports=function(t){var r={};function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)e.d(n,o,function(r){return t[r]}.bind(null,o));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=46)}({0:function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.recursiveDeepCopy=function t(r){var e,n;if("object"!=typeof r)return r;if(!r)return r;if("[object Array]"===Object.prototype.toString.apply(r)){for(e=[],n=0;n<r.length;n+=1)e[n]=t(r[n]);return e}for(n in e={},r)r.hasOwnProperty(n)&&(e[n]=t(r[n]));return e},r.get=function(t,r){for(var e=t,n=0,o=r.split(".");n<o.length;n++){var i=o[n];if(!e||!e.hasOwnProperty(i))return null;e=e[i]}return e},r.set=function(t,r,e){for(var n=t,o=r.split("."),i=0;i<o.length-1;i++)n=n[o[i]];return n[o.LastOrDefault()]=e,t},r.merge=function t(r,e){for(var n in e)if(r.hasOwnProperty(n)&&null!==r[n]&&void 0!==r[n]){if(typeof r[n]==typeof{}){r[n]=t(r[n],e[n]);continue}r[n]=e[n]}else r[n]=e[n];return r}},1:function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(6);r.ListSortOrder=n.ListSortOrder},3:function(t,r){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},46:function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(47);r.StopWatch=n.StopWatch},47:function(t,r,e){"use strict";(function(t){Object.defineProperty(r,"__esModule",{value:!0}),e(1);var n=function(){function r(){this._measures=[],this._isPause=!1,this._multipleMeasures={},this._multipleIsPause={},this._time=this.getTimestamp(),this._multipleTimes={}}return r.prototype.SectionStart=function(t){this._multipleTimes[t]=this.getTimestamp(),this._multipleMeasures[t]=[],this._multipleIsPause[t]=!1},r.prototype.IsSectionPause=function(t){return!0===this._multipleIsPause[t]},Object.defineProperty(r.prototype,"IsPause",{get:function(){return!0===this._isPause},enumerable:!0,configurable:!0}),r.prototype.SectionElapsedMs=function(t){var r=this._multipleIsPause[t]?0:this.getMultipleTimeDiff(t);if(this._multipleMeasures[t]||(this._multipleMeasures[t]=[]),this._multipleMeasures[t].Any())for(var e=0,n=this._multipleMeasures[t];e<n.length;e++)r+=n[e];return r},r.prototype.SectionPause=function(t){this._multipleMeasures[t].Add(this.getMultipleTimeDiff(t)),this._multipleIsPause[t]=!0},r.prototype.SectionResume=function(t){this._multipleIsPause[t]=!1,this._multipleTimes[t]=this.getTimestamp()},r.prototype.Pause=function(){this._measures.Add(this.getTimeDiff()),this._isPause=!0},r.prototype.Resume=function(){this._time=this.getTimestamp(),this._isPause=!1},r.prototype.ElapsedMs=function(){var t=this._isPause?0:this.getTimeDiff();if(this._measures.Any())for(var r=0,e=this._measures;r<e.length;r++)t+=e[r];return t},r.prototype.getTimestamp=function(){return this.isBrowser()?window.performance.now():t.process.hrtime()},r.prototype.getTimeDiff=function(){if(!this.isBrowser()){var r=this._time,e=t.process.hrtime(r);return(1e9*e[0]+e[1])/1e6}var n=this._time;return window.performance.now()-n},r.prototype.getMultipleTimeDiff=function(r){if(!this.isBrowser()){var e=this._multipleTimes[r];if(!e)return 0;var n=t.process.hrtime(e);return(1e9*n[0]+n[1])/1e6}var o=this._multipleTimes[r];return window.performance.now()-o},r.prototype.isBrowser=function(){try{return!(!window||!window.performance)}catch(t){return!1}},r}();r.StopWatch=n}).call(this,e(3))},6:function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,o=e(0),i=e(7);!function(t){t[t.ASC=0]="ASC",t[t.DESC=1]="DESC"}(n=r.ListSortOrder||(r.ListSortOrder={})),Array.prototype.Count=function(){return this.length},Array.prototype.Max=function(t){return i.operateArray(this,t,1)},Array.prototype.Min=function(t){return i.operateArray(this,t,2)},Array.prototype.Mean=function(t){return i.operateArray(this,t,4)},Array.prototype.Sum=function(t){return i.operateArray(this,t,3)},Array.prototype.Add=function(t){return this.push(t),this},Array.prototype.AddIfNotExists=function(t){return this.Contains(t)||this.Add(t),this},Array.prototype.Reduce=function(t,r){for(var e=0;e<this.length;e++)r=t(r,this[e]);return r},Array.prototype.AddRange=function(t){for(var r=0,e=t;r<e.length;r++){var n=e[r];this.Add(n)}return this},Array.prototype.AddRangeIfNotExists=function(t){for(var r=0,e=t;r<e.length;r++){var n=e[r];this.AddIfNotExists(n)}return this},Array.prototype.Clear=function(){return this.splice(0,this.length),this},Array.prototype.Contains=function(t){for(var r=0;r<this.length;r++){var e=this[r];if(i.isFunction(e.Equals)&&e.Equals(t))return!0;if(e===t)return!0}return!1},Array.prototype.Copy=function(){for(var t=[],r=0;r<this.length;r++){var e=this[r];t.push(o.recursiveDeepCopy(e))}return t},Array.prototype.Exists=function(t){return!!i.find(this,t)},Array.prototype.Find=function(t){return i.find(this,t)||null},Array.prototype.FindLast=function(t){return i.findLast(this,t)||null},Array.prototype.FindIndex=function(t){return i.find(this,t,!0)},Array.prototype.FindAll=function(t){return i.filter(this,t)},Array.prototype.Insert=function(t,r){return i.mergeArray(this,t,[r])},Array.prototype.InsertRange=function(t,r){return i.mergeArray(this,t,r)},Array.prototype.IndexOf=function(t,r){return r?i.indexOf(this,t,r):i.indexOf(this,t)},Array.prototype.Remove=function(t){var r=i.without(this,[t]);return this.Clear(),this.AddRange(r),this},Array.prototype.RemoveAll=function(t){var r=i.filter(this,(function(r){return t(r)}),!0);return this.Clear(),this.AddRange(r),this},Array.prototype.RemoveAt=function(t){return t>=this.length||t<0||this.splice(t,1),this},Array.prototype.RemoveRange=function(t){var r=i.without(this,t);return this.Clear(),this.AddRange(r),this},Array.prototype.Reverse=function(){return i.reverse(this)},Array.prototype.Sort=function(t){var r=t===n.DESC?"asc":"desc",e=this.sort((function(t,r){return t>r?-1:t<r?1:0}));return"desc"===r&&(e=this.sort((function(t,r){return t>r?1:t<r?-1:0}))),e},Array.prototype.SortBy=function(t,r){return i.sort(this,t,r.Convert((function(t){return t===n.DESC})))},Array.prototype.ElementAt=function(t){return this[t]||null},Array.prototype.Any=function(t){return"function"!=typeof t?this.length.IsAbove(0):!!this.Find(t)},Array.prototype.FirstOrDefault=function(t,r){return i.isFunction(t)?i.find(this,t)||r||null:this[0]||r||null},Array.prototype.FindLastIndex=function(t){return i.findLast(this,t,!0)},Array.prototype.TrueForAll=function(t){for(var r=0;r<this.length;r++)if(!t(this[r]))return!1;return!0},Array.prototype.LastOrDefault=function(t,r){return i.isFunction(t)?i.findLast(this,t)||r||null:this[this.length-1]||r||null},Array.prototype.GroupBy=function(t){return i.groupBy(this,t)},Array.prototype.GroupKey=function(t){return Object.keys(i.groupBy(this,t))},Array.prototype.Convert=function(t){return this.map(t)},Array.prototype.Replace=function(t,r){var e=this.FindIndex(t);return e.IsBelow(0)?(this.Add(r),this):(this[e]=r,this)},Array.prototype.Join=function(t){return this.join(t||",")},Array.prototype.UnionBy=function(t,r){for(var e=0,n=t;e<n.length;e++){var o=n[e];r(o)&&this.push(o)}return this}},7:function(t,r,e){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,r=0,e=arguments.length;r<e;r++)t+=arguments[r].length;var n=Array(t),o=0;for(r=0;r<e;r++)for(var i=arguments[r],u=0,s=i.length;u<s;u++,o++)n[o]=i[u];return n};function o(t,r){return"function"==typeof t.IsBefore&&"function"==typeof t.IsAfter?t.IsBefore(r)?[1,2]:t.IsAfter(r)?[2,1]:[0,0]:[t,r]}function i(t){return"function"==typeof t}function u(t,r,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!0),!0===n){for(var o=0;o<t.length;o++)if(r(i=t[o]))return e?o:i;return e?-1:null}for(o=t.length-1;o>=0;o--){var i;if(r(i=t[o]))return e?o:i}return e?-1:null}function s(t,r,e){void 0===e&&(e=0);for(var n=0;n<t.length;n++){if(r===t[n]&&n>=e)return n;if(i(r.Equal)&&r.Equal(t[n])&&n>=e)return n}return-1}Object.defineProperty(r,"__esModule",{value:!0}),r.getSortValue=o,r.sort=function(t,r,e){return t.sort((function(t,n){for(var i=0;i<r.length;i++){var u=r[i],s=e[i],f=o(t[u],n[u]);if(f[0]<f[1])return s?1:-1;if(f[0]>f[1])return s?-1:1}return 0}))},r.groupBy=function(t,r){for(var e={},n=0,o=t;n<o.length;n++){var i=o[n],u=r(i);e[u]||(e[u]=[]),e[u].push(i)}return e},r.reverse=function(t){for(var r=[],e=0,n=t.length-1;n>=0;n--)r[e]=t[n],e++;return r},r.isFunction=i,r._find=u,r.find=function(t,r,e){return void 0===e&&(e=!1),u(t,r,e)},r.findLast=function(t,r,e){return void 0===e&&(e=!1),u(t,r,e,!1)},r.filter=function(t,r,e){void 0===e&&(e=!1);for(var n=[],o=0,i=t;o<i.length;o++){var u=i[o];!0===e?r(u)||n.push(u):r(u)&&n.push(u)}return n},r.without=function(t,r){for(var e=[],n=0,o=t;n<o.length;n++){var i=o[n];s(r,i)>-1||e.push(i)}return e},r.indexOf=s,r.operateArray=function(t,r,e){for(var n=null,o=0,i=0,u=t;i<u.length;i++){var s=u[i];if("number"==typeof s&&(!r||r(s)))switch(o++,e){case 1:(null===n||s>n)&&(n=s);break;case 2:(null===n||s<n)&&(n=s);break;case 3:case 4:null===n&&(n=0),n+=s}}if(null===n&&(n=0),4===e){if(o<1)return 0;n/=o}return n},r.mergeArray=function(t,r,e){var o=t.slice(0,r),i=t.slice(r,t.length);return n(o,e,i)}}})},function(t,r,e){t.exports=function(t){var r={};function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)e.d(n,o,function(r){return t[r]}.bind(null,o));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=1)}([function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.recursiveDeepCopy=function t(r){var e,n;if("object"!=typeof r)return r;if(!r)return r;if("[object Array]"===Object.prototype.toString.apply(r)){for(e=[],n=0;n<r.length;n+=1)e[n]=t(r[n]);return e}for(n in e={},r)r.hasOwnProperty(n)&&(e[n]=t(r[n]));return e},r.get=function(t,r){for(var e=t,n=0,o=r.split(".");n<o.length;n++){var i=o[n];if(!e||!e.hasOwnProperty(i))return null;e=e[i]}return e},r.set=function(t,r,e){for(var n=t,o=r.split("."),i=0;i<o.length-1;i++)n=n[o[i]];return n[o.LastOrDefault()]=e,t},r.merge=function t(r,e){for(var n in e)if(r.hasOwnProperty(n)&&null!==r[n]&&void 0!==r[n]){if(typeof r[n]==typeof{}){r[n]=t(r[n],e[n]);continue}r[n]=e[n]}else r[n]=e[n];return r}},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(6);r.ListSortOrder=n.ListSortOrder},,,,,function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,o=e(0),i=e(7);!function(t){t[t.ASC=0]="ASC",t[t.DESC=1]="DESC"}(n=r.ListSortOrder||(r.ListSortOrder={})),Array.prototype.Count=function(){return this.length},Array.prototype.Max=function(t){return i.operateArray(this,t,1)},Array.prototype.Min=function(t){return i.operateArray(this,t,2)},Array.prototype.Mean=function(t){return i.operateArray(this,t,4)},Array.prototype.Sum=function(t){return i.operateArray(this,t,3)},Array.prototype.Add=function(t){return this.push(t),this},Array.prototype.AddIfNotExists=function(t){return this.Contains(t)||this.Add(t),this},Array.prototype.Reduce=function(t,r){for(var e=0;e<this.length;e++)r=t(r,this[e]);return r},Array.prototype.AddRange=function(t){for(var r=0,e=t;r<e.length;r++){var n=e[r];this.Add(n)}return this},Array.prototype.AddRangeIfNotExists=function(t){for(var r=0,e=t;r<e.length;r++){var n=e[r];this.AddIfNotExists(n)}return this},Array.prototype.Clear=function(){return this.splice(0,this.length),this},Array.prototype.Contains=function(t){for(var r=0;r<this.length;r++){var e=this[r];if(i.isFunction(e.Equals)&&e.Equals(t))return!0;if(e===t)return!0}return!1},Array.prototype.Copy=function(){for(var t=[],r=0;r<this.length;r++){var e=this[r];t.push(o.recursiveDeepCopy(e))}return t},Array.prototype.Exists=function(t){return!!i.find(this,t)},Array.prototype.Find=function(t){return i.find(this,t)||null},Array.prototype.FindLast=function(t){return i.findLast(this,t)||null},Array.prototype.FindIndex=function(t){return i.find(this,t,!0)},Array.prototype.FindAll=function(t){return i.filter(this,t)},Array.prototype.Insert=function(t,r){return i.mergeArray(this,t,[r])},Array.prototype.InsertRange=function(t,r){return i.mergeArray(this,t,r)},Array.prototype.IndexOf=function(t,r){return r?i.indexOf(this,t,r):i.indexOf(this,t)},Array.prototype.Remove=function(t){var r=i.without(this,[t]);return this.Clear(),this.AddRange(r),this},Array.prototype.RemoveAll=function(t){var r=i.filter(this,(function(r){return t(r)}),!0);return this.Clear(),this.AddRange(r),this},Array.prototype.RemoveAt=function(t){return t>=this.length||t<0||this.splice(t,1),this},Array.prototype.RemoveRange=function(t){var r=i.without(this,t);return this.Clear(),this.AddRange(r),this},Array.prototype.Reverse=function(){return i.reverse(this)},Array.prototype.Sort=function(t){var r=t===n.DESC?"asc":"desc",e=this.sort((function(t,r){return t>r?-1:t<r?1:0}));return"desc"===r&&(e=this.sort((function(t,r){return t>r?1:t<r?-1:0}))),e},Array.prototype.SortBy=function(t,r){return i.sort(this,t,r.Convert((function(t){return t===n.DESC})))},Array.prototype.ElementAt=function(t){return this[t]||null},Array.prototype.Any=function(t){return"function"!=typeof t?this.length.IsAbove(0):!!this.Find(t)},Array.prototype.FirstOrDefault=function(t,r){return i.isFunction(t)?i.find(this,t)||r||null:this[0]||r||null},Array.prototype.FindLastIndex=function(t){return i.findLast(this,t,!0)},Array.prototype.TrueForAll=function(t){for(var r=0;r<this.length;r++)if(!t(this[r]))return!1;return!0},Array.prototype.LastOrDefault=function(t,r){return i.isFunction(t)?i.findLast(this,t)||r||null:this[this.length-1]||r||null},Array.prototype.GroupBy=function(t){return i.groupBy(this,t)},Array.prototype.GroupKey=function(t){return Object.keys(i.groupBy(this,t))},Array.prototype.Convert=function(t){return this.map(t)},Array.prototype.Replace=function(t,r){var e=this.FindIndex(t);return e.IsBelow(0)?(this.Add(r),this):(this[e]=r,this)},Array.prototype.Join=function(t){return this.join(t||",")},Array.prototype.UnionBy=function(t,r){for(var e=0,n=t;e<n.length;e++){var o=n[e];r(o)&&this.push(o)}return this}},function(t,r,e){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,r=0,e=arguments.length;r<e;r++)t+=arguments[r].length;var n=Array(t),o=0;for(r=0;r<e;r++)for(var i=arguments[r],u=0,s=i.length;u<s;u++,o++)n[o]=i[u];return n};function o(t,r){return"function"==typeof t.IsBefore&&"function"==typeof t.IsAfter?t.IsBefore(r)?[1,2]:t.IsAfter(r)?[2,1]:[0,0]:[t,r]}function i(t){return"function"==typeof t}function u(t,r,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!0),!0===n){for(var o=0;o<t.length;o++)if(r(i=t[o]))return e?o:i;return e?-1:null}for(o=t.length-1;o>=0;o--){var i;if(r(i=t[o]))return e?o:i}return e?-1:null}function s(t,r,e){void 0===e&&(e=0);for(var n=0;n<t.length;n++){if(r===t[n]&&n>=e)return n;if(i(r.Equal)&&r.Equal(t[n])&&n>=e)return n}return-1}Object.defineProperty(r,"__esModule",{value:!0}),r.getSortValue=o,r.sort=function(t,r,e){return t.sort((function(t,n){for(var i=0;i<r.length;i++){var u=r[i],s=e[i],f=o(t[u],n[u]);if(f[0]<f[1])return s?1:-1;if(f[0]>f[1])return s?-1:1}return 0}))},r.groupBy=function(t,r){for(var e={},n=0,o=t;n<o.length;n++){var i=o[n],u=r(i);e[u]||(e[u]=[]),e[u].push(i)}return e},r.reverse=function(t){for(var r=[],e=0,n=t.length-1;n>=0;n--)r[e]=t[n],e++;return r},r.isFunction=i,r._find=u,r.find=function(t,r,e){return void 0===e&&(e=!1),u(t,r,e)},r.findLast=function(t,r,e){return void 0===e&&(e=!1),u(t,r,e,!1)},r.filter=function(t,r,e){void 0===e&&(e=!1);for(var n=[],o=0,i=t;o<i.length;o++){var u=i[o];!0===e?r(u)||n.push(u):r(u)&&n.push(u)}return n},r.without=function(t,r){for(var e=[],n=0,o=t;n<o.length;n++){var i=o[n];s(r,i)>-1||e.push(i)}return e},r.indexOf=s,r.operateArray=function(t,r,e){for(var n=null,o=0,i=0,u=t;i<u.length;i++){var s=u[i];if("number"==typeof s&&(!r||r(s)))switch(o++,e){case 1:(null===n||s>n)&&(n=s);break;case 2:(null===n||s<n)&&(n=s);break;case 3:case 4:null===n&&(n=0),n+=s}}if(null===n&&(n=0),4===e){if(o<1)return 0;n/=o}return n},r.mergeArray=function(t,r,e){var o=t.slice(0,r),i=t.slice(r,t.length);return n(o,e,i)}}])}])}));